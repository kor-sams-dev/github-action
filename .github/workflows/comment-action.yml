name: Pull request comment

on:
  issue_comment:
    types: [created]

jobs:
  ready_to_qa:
    if: contains(github.event.comment.html_url, '/pull/') && github.event.comment.body == '/qa'
    runs-on: ubuntu-latest
    steps:
      - name: Checkout twip-next-fe repository
        uses: actions/checkout@v3
        with:
          repository: kor-sams-dev/github-action

      - name: Merge staging branch
        run: |
          echo ${{ github.event.comment.body }}
          echo ${{ github.event.comment.author_association }}
          echo ${{ github.event.comment.body }}
          echo ${{ github.event.comment.html_url }}
          echo ${{ github.event.comment.id }}
          echo ${{ github.event.comment.issue_url }}
          echo ${{ github.event.comment.node_id }}
          echo ${{ github.event.comment.performed_via_github_app }}
          echo ${{ github.event.comment.reactions }}
          echo ${{ github.event.comment.url }}
          echo ${{ github.event.comment.user }}
          git config user.name "github action"
          git config user.email "tom@github.com"
          git checkout -b staging
          git merge ${{ github.event.comment}}} 
          git push
